<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Treasure ON</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" 
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" 
    integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" 
    integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>

    <style>
        .row {
            display: flex;
            justify-content: center;
        }

        body
        {
            background-color: #ecf4f5;
            font-family: Arial, sans-serif;
            
        }
    </style>
</head>
<body>
    <h1>Find the treasure by Mudam Venkatesh</h1><br>
    <div style="color:rgba(10, 11, 11, 0.9); background-color: rgb(234, 130, 75); font-family:Arial, Helvetica, sans-serif; font-weight: bold;">
        Click on the locations to search for treasure, beware the traps
    </div><br>
    <div id="locations" style="color:rgb(15, 13, 107); background-color: rgb(97, 196, 99); font-weight: bold; font-family:'Times New Roman';">
        Number of locations checked is zero.
    </div><br>
    <div id="penalty" style="color:rgb(2, 44, 25); background-color: rgb(84, 189, 191); font-weight: bold; font-family:'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif">
        Penalty is zero.
    </div><br>
    <div style="color:rgb(66, 70, 11); background-color: rgb(202, 199, 240); font-weight: bold; font-family:Verdana, Geneva, Tahoma, sans-serif" id="click" onclick="help()">
        Click for help.
    </div><br>
    <div id="help" style="color:rgb(7, 63, 16); background-color: rgb(235, 189, 235); font-weight: bold; font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif">
        Help report
    </div><br>

    <button id="newGameButton" onclick="newGame()">New Game</button>

 <!-- Adding treasure of 5*5 -->
 <h4 style="text-align: center;">Hidden Surprises</h4>
    <div class="container">
        <div class="row">
            <div class="col-sm-2">
                <img src="bear.jpg" id="img0" onclick="check(0)" width="180px" height="150px" alt="bear">
            </div>
            <div class="col-sm-2">
                <img src="bear.jpg" id="img1" onclick="check(1)" width="180px" height="150px" alt="bear">
            </div>
            <div class="col-sm-2">
                <img src="bear.jpg" id="img2" onclick="check(2)" width="180px" height="150px" alt="bear">
            </div>
            <div class="col-sm-2">
                <img src="bear.jpg" id="img3" onclick="check(3)" width="180px" height="150px" alt="bear">
            </div>
            <div class="col-sm-2">
                <img src="bear.jpg" id="img4" onclick="check(4)" width="180px" height="150px" alt="bear">
            </div>
        </div>
        <div class="row">
            <div class="col-sm-2">
                <img src="bear.jpg" id="img5" onclick="check(5)" width="180px" height="150px" alt="bear">
            </div>
            <div class="col-sm-2">
                <img src="bear.jpg" id="img6" onclick="check(6)" width="180px" height="150px" alt="bear">
            </div>
            <div class="col-sm-2">
                <img src="bear.jpg" id="img7" onclick="check(7)" width="180px" height="150px" alt="bear">
            </div>
            <div class="col-sm-2">
                <img src="bear.jpg" id="img8" onclick="check(8)" width="180px" height="150px" alt="bear">
            </div>
            <div class="col-sm-2">
                <img src="bear.jpg" id="img9" onclick="check(9)" width="180px" height="150px" alt="bear">
            </div>
        </div>
        <div class="row">
            <div class="col-sm-2">
                <img src="bear.jpg" id="img10" onclick="check(10)" width="180px" height="150px" alt="bear">
            </div>
            <div class="col-sm-2">
                <img src="bear.jpg" id="img11" onclick="check(11)" width="180px" height="150px" alt="bear">
            </div>
            <div class="col-sm-2">
                <img src="bear.jpg" id="img12" onclick="check(12)" width="180px" height="150px" alt="bear">
            </div>
            <div class="col-sm-2">
                <img src="bear.jpg" id="img13" onclick="check(13)" width="180px" height="150px" alt="bear">
            </div>
            <div class="col-sm-2">
                <img src="bear.jpg" id="img14" onclick="check(14)" width="180px" height="150px" alt="bear">
            </div>
        </div>
        <div class="row">
            <div class="col-sm-2">
                <img src="bear.jpg" id="img15" onclick="check(15)" width="180px" height="150px" alt="bear">
            </div>
            <div class="col-sm-2">
                <img src="bear.jpg" id="img16" onclick="check(16)" width="180px" height="150px" alt="bear">
            </div>
            <div class="col-sm-2">
                <img src="bear.jpg" id="img17" onclick="check(17)" width="180px" height="150px" alt="bear">
            </div>
            <div class="col-sm-2">
                <img src="bear.jpg" id="img18" onclick="check(18)" width="180px" height="150px" alt="bear">
            </div>
            <div class="col-sm-2">
                <img src="bear.jpg" id="img19" onclick="check(19)" width="180px" height="150px" alt="bear">
            </div>
        </div>
        <div class="row">
            <div class="col-sm-2">
                <img src="bear.jpg" id="img20" onclick="check(20)" width="180px" height="150px" alt="bear">
            </div>
            <div class="col-sm-2">
                <img src="bear.jpg" id="img21" onclick="check(21)" width="180px" height="150px" alt="bear">
            </div>
            <div class="col-sm-2">
                <img src="bear.jpg" id="img22" onclick="check(22)" width="180px" height="150px" alt="bear">
            </div>
            <div class="col-sm-2">
                <img src="bear.jpg" id="img23" onclick="check(23)" width="180px" height="150px" alt="bear">
            </div>
            <div class="col-sm-2">
                <img src="bear.jpg" id="img24" onclick="check(24)" width="180px" height="150px" alt="bear">
            </div>
        </div>
    </div>

    <script>
        let ids = [];
        let checkCount = 0;
        let penalty = 0;
        let lastCheck = 0;
        let treasureLocation = 5;
        let trapLocation = 18;
        let gameOver = false;
    
        for (let i = 0; i < 25; i++) {
            ids.push(`img${i}`);
        }
    
        function check(position) {
            if (gameOver){
                return;
            } 
    
            let img_id = ids[position];
            let imageElement = document.getElementById(img_id);
    
            if (position === treasureLocation) {
                imageElement.src = "treasure.jpg";
                gameOver = true;
                penalty -= 3;
            } else if (position === trapLocation) {
                imageElement.src = "trap.jpg";
                gameOver = true;
                penalty += 4;
            } else {
                imageElement.src = "pirate.jpg";
                checkCount++;
                penalty++;
            }
    
            if(penalty<0)
                    penalty =0;
            let locationsElement = document.getElementById("locations");
            locationsElement.innerHTML="Number of locations checked is "+checkCount;
                    
            let penaltyElement = document.getElementById("penalty");
            penaltyElement.innerHTML= "Penalty is "+penalty;
                    
            lastCheck = position;
        }
    
        function help() {
            let helpText="";
            let row_Treasure = Math.floor(treasureLocation / 5);
            let col_Treasure = treasureLocation % 5;
            let row_LastCheck = Math.floor(lastCheck / 5);
            let col_LastCheck = lastCheck % 5;

            row_Difference = Math.abs(row_Treasure - row_LastCheck);
            col_Difference = Math.abs(col_Treasure - col_LastCheck);


            if ((row_Difference ==+1 && col_Difference === 0) || (row_Difference === 0 && col_Difference === 1)) {
                document.getElementById("help").textContent = "Can smell it";
            } 
            else if (row_Difference + col_Difference === 2) {
                document.getElementById("help").textContent = "Close Matie";   
            } 
            else {
                document.getElementById("help").textContent = "Step Faster";
               
            }
            penalty += 2;
            document.getElementById("penalty").textContent = `Penalty is ${penalty}.`;
            // document.getElementById("help").textContent = help;
        }
        document.getElementById("help").textContent = helpText;
    
    //BONUS
    function newGame() {
    checkCount = 0;
    penalty = 0;
    lastCheck = 0;
    gameOver = false;

    treasureLocation = Math.floor(Math.random() * 25);

    do {
        trapLocation = Math.floor(Math.random() * 25);

    } while (trapLocation === treasureLocation);

    document.getElementById("locations").innerHTML = "Number of locations checked is : " + checkCount;
    document.getElementById("penalty").innerHTML = "Penalty is : " + penalty;
    document.getElementById("help").textContent = "Help report";

    for (var i = 0; i < 25; i++) 
    {
        document.getElementById(ids[i]).src = "bear.jpg"
    }
}
    </script>
    
</body>
</html>